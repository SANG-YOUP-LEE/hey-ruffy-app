.com_popup_wrap.walk_status .popup_inner {
  width: 90vw;
  max-width: 90vw;
  height: 80dvh;
  display: flex;
  flex-direction: column;
}

.com_popup_wrap.walk_status .popup_tit { flex: 0 0 auto; }
.com_popup_wrap.walk_status .popup_body { flex: 1 1 auto; min-height: 0; overflow: auto; padding: 0; }
.com_popup_wrap.walk_status .popup_btm { flex: 0 0 auto; }

.walk_pop_wrap { position: relative; width: 100%; height: 100%; display: flex; flex-direction: column; }

.walk_info { flex: 0 0 auto; text-align: center; padding: 8px 0; display: flex; gap: 8px; justify-content: center; }
.walk_pop_wrap span[class^='walk_'] { display: inline-block; width: auto; padding: 1rem; line-height: 1rem; margin: 0; border-radius: 1rem; }

.walk_canvas {
  flex: 1 1 auto;
  min-height: 0;
  border-radius: 1.5rem;
  border: 1px solid #eee;
  margin-top: 1rem;
  overflow: hidden;
  aspect-ratio: 768 / 1024;
}

.walk_canvas :deep(svg) { width: 100%; height: 100%; display: block; }
svg { width: 100%; height: auto; display: block; }

.walk_complete { text-align: center; padding: 10px 0; font-weight: 700; }

.active-dot { animation: pulse 1.2s ease-in-out infinite; }
@keyframes pulse { 0% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.08); opacity: .9; } 100% { transform: scale(1); opacity: 1; } }

/* 1) 아주 작은 화면(가로폭 360px 이하) 공통 */
@media (max-width: 360px) {
  .com_popup_wrap.walk_status .popup_inner {
    /* iOS/Android 모두 안정적으로 크게: */
    height: min(94svh, 94dvh);
  }
  .walk_info { padding: 6px 0; gap: 6px; }
  .walk_pop_wrap span[class^='walk_'] { padding: .75rem; line-height: .95rem; }
}

/* 2) 세로가 짧은 기기(아이폰 SE 등)에서 추가로 더 키우기 */
@media (max-height: 700px) and (orientation: portrait) {
  .com_popup_wrap.walk_status .popup_inner {
    height: min(96svh, 96dvh);
  }
  /* 상단/하단 여백 살짝 축소해 유효 높이 확보 */
  .com_popup_wrap.walk_status .popup_tit { padding-block: 6px; }
  .com_popup_wrap.walk_status .popup_btm { padding-block: 6px; }
}

/* 3) 극단적으로 작은 세로(<=640px)에서 최대 확보 */
@media (max-height: 640px) and (orientation: portrait) {
  .com_popup_wrap.walk_status .popup_inner {
    height: min(98svh, 98dvh);
  }
}

.walk_canvas { position: relative; }
.walk_canvas .ruffys_item {
  position: absolute;
  transform: translate(-50%, -50%);
  width:3rem;
  height:3rem;
  display: grid;
  place-items: center;
}
.walk_canvas .ruffys_item.animate {
  transition: left .7s ease, top .7s ease;
}

.walk_canvas .ruffys_item span.ruffy01 {
  background-image: url('../images/hey_ruffy_temp01_b.png');
}

.walk_canvas .ruffys_item span.ruffy02 {
  background-image: url('../images/hey_ruffy_temp02_b.png');
}

.walk_canvas .ruffys_item span.ruffy03 {
  background-image: url('../images/hey_ruffy_temp03_b.png');
}

.walk_canvas .ruffys_item span.ruffy04 {
  background-image: url('../images/hey_ruffy_temp04_b.png');
}